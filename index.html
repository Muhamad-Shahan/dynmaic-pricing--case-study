<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pricing Analytics & Optimization | Case Study</title>
    
    <!-- React & ReactDOM (Pinned Versions) -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- Prop-Types (Required dependency for some Recharts UMD builds) -->
    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    
    <!-- Recharts (Pinned Version known to work with UMD) -->
    <script src="https://unpkg.com/recharts@2.10.3/umd/Recharts.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #e2e8f0; }
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-text {
            background: linear-gradient(to right, #818cf8, #c084fc, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        // Destructure Recharts from the global object safely
        const { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, AreaChart, Area } = window.Recharts;

        // Icon Component Wrapper
        const Icon = ({ name, size = 24, color = "currentColor" }) => {
            useEffect(() => {
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, [name]);
            return <i data-lucide={name} style={{ width: size, height: size, color: color }}></i>;
        };

        // --- COMPONENTS ---

        const Navbar = () => (
            <nav className="fixed top-0 w-full z-50 glass-panel border-b border-slate-700">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex items-center justify-between h-16">
                        <div className="flex items-center">
                            <span className="font-bold text-xl tracking-tight text-white">Data<span className="text-indigo-400">Arch</span>.Portfolio</span>
                        </div>
                        <div className="hidden md:block">
                            <div className="ml-10 flex items-baseline space-x-4">
                                <a href="#overview" className="hover:text-white px-3 py-2 rounded-md text-sm font-medium text-slate-300 transition">Overview</a>
                                <a href="#architecture" className="hover:text-white px-3 py-2 rounded-md text-sm font-medium text-slate-300 transition">Architecture</a>
                                <a href="#methodology" className="hover:text-white px-3 py-2 rounded-md text-sm font-medium text-slate-300 transition">ML Methodology</a>
                                <a href="#demo" className="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition shadow-lg shadow-indigo-500/30">Live Demo</a>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        );

        const Hero = () => (
            <section className="relative pt-32 pb-20 overflow-hidden">
                <div className="absolute top-0 left-1/2 w-full -translate-x-1/2 h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"></div>
                <div className="absolute top-20 left-20 w-72 h-72 bg-purple-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float"></div>
                <div className="absolute top-40 right-20 w-72 h-72 bg-cyan-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float" style={{animationDelay: '2s'}}></div>
                
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center">
                    <div className="inline-flex items-center px-3 py-1 rounded-full border border-indigo-500/30 bg-indigo-500/10 text-indigo-300 text-xs font-medium mb-6">
                        <span className="mr-2">●</span> Oracle Big Data Case Study
                    </div>
                    <h1 className="text-5xl md:text-7xl font-extrabold text-white tracking-tight mb-6">
                        Dynamic Pricing <br />
                        <span className="gradient-text">Optimization Engine</span>
                    </h1>
                    <p className="mt-4 max-w-2xl mx-auto text-xl text-slate-400">
                        An end-to-end Big Data pipeline that leverages Machine Learning to determine the optimal price point for maximizing revenue, utilizing the Online Retail II dataset.
                    </p>
                    <div className="mt-10 flex justify-center gap-4">
                        <a href="#demo" className="px-8 py-3 rounded-lg bg-white text-slate-900 font-bold hover:bg-slate-100 transition shadow-xl">
                            Try the Simulator
                        </a>
                        <a href="#overview" className="px-8 py-3 rounded-lg glass-panel text-white font-medium hover:bg-slate-800 transition border border-slate-600">
                            Read Proposal
                        </a>
                    </div>
                </div>
            </section>
        );

        const Section = ({ id, title, children, icon }) => (
            <section id={id} className="py-16 border-t border-slate-800 relative">
                <div className="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex items-center mb-8">
                        <div className="p-3 rounded-lg bg-indigo-500/10 text-indigo-400 mr-4">
                            <Icon name={icon} />
                        </div>
                        <h2 className="text-3xl font-bold text-white">{title}</h2>
                    </div>
                    <div className="prose prose-invert prose-lg max-w-none text-slate-300">
                        {children}
                    </div>
                </div>
            </section>
        );

        const ArchitectureDiagram = () => (
            <div className="my-10 p-1 rounded-xl bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500">
                <div className="bg-slate-900 rounded-lg p-8 overflow-hidden relative min-h-[400px] flex items-center justify-center flex-col text-center">
                    
                    {/* STEP TO FIX DIAGRAM:
                        1. Save your mermaid diagram as 'diagram.png' in the same folder as this index.html
                        2. The img tag below will load it.
                    */}
                    
                    <img 
                        src="./diagram.png" 
                        alt="Pipeline Architecture" 
                        className="w-full max-w-4xl rounded-lg shadow-2xl hover:scale-[1.02] transition duration-500"
                        onError={(e) => {
                            e.target.onerror = null; 
                            e.target.style.display = 'none';
                            // If image fails, show text fallback (helper for you)
                            e.target.nextSibling.style.display = 'block';
                        }}
                    />

                    {/* Fallback Text if image is missing */}
                    <div className="hidden text-slate-400 border-2 border-dashed border-slate-700 p-10 rounded-lg bg-slate-800/50">
                        <div className="flex justify-center text-indigo-400 mb-4"><Icon name="image-off" size={48} /></div>
                        <h3 className="text-xl font-semibold text-white">Image Not Found</h3>
                        <p>Please save your diagram as <code className="bg-black px-2 py-1 rounded text-indigo-300">diagram.png</code> in this folder.</p>
                    </div>
                    
                    <div className="absolute bottom-4 right-6 flex gap-2">
                        <span className="px-2 py-1 rounded text-xs bg-blue-900 text-blue-200 border border-blue-700">Pandas</span>
                        <span className="px-2 py-1 rounded text-xs bg-green-900 text-green-200 border border-green-700">Parquet</span>
                        <span className="px-2 py-1 rounded text-xs bg-orange-900 text-orange-200 border border-orange-700">Scikit-Learn</span>
                    </div>
                </div>
            </div>
        );

        const InteractiveDemo = () => {
            const [price, setPrice] = useState(12.5);
            const [data, setData] = useState([]);

            // Simulate ML Model Logic (Demand Curve)
            // Demand = Base - (Sensitivity * Price) + Seasonality
            const calculateMetrics = (p) => {
                const baseDemand = 1000;
                const priceSensitivity = 45; // High sensitivity
                const demand = Math.max(0, baseDemand - (priceSensitivity * Math.log(p) * p/4)); 
                // Simple logic for demo visual: Higher price = Lower demand, but Revenue = Price * Demand
                
                // Let's make a cleaner curve for the chart
                // We want to show the curve across a range, highlighting the current selection
                const curveData = [];
                for(let i = 5; i <= 50; i+=2) {
                    const d = Math.max(0, 800 - (15 * i));
                    curveData.push({
                        price: i,
                        demand: d,
                        revenue: d * i,
                        isCurrent: Math.abs(i - p) < 1.5
                    });
                }
                return curveData;
            };

            useEffect(() => {
                setData(calculateMetrics(price));
            }, [price]);

            // Calculate current specific values
            const currentDemand = Math.floor(Math.max(0, 800 - (15 * price)));
            const currentRevenue = (currentDemand * price).toFixed(2);

            return (
                <div className="glass-panel rounded-2xl p-8 mt-8 border border-slate-700 shadow-2xl">
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        
                        {/* Controls */}
                        <div className="lg:col-span-1 space-y-6">
                            <div>
                                <h3 className="text-xl font-bold text-white mb-2">Pricing Simulator</h3>
                                <p className="text-sm text-slate-400">Adjust the Unit Price to see how the Random Forest model predicts Demand and Revenue changes.</p>
                            </div>

                            <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700">
                                <label className="block text-sm font-medium text-slate-300 mb-4">Unit Price (£)</label>
                                <input 
                                    type="range" 
                                    min="5" 
                                    max="50" 
                                    step="0.5"
                                    value={price}
                                    onChange={(e) => setPrice(parseFloat(e.target.value))}
                                    className="w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-indigo-500"
                                />
                                <div className="flex justify-between mt-2">
                                    <span className="text-xs text-slate-500">£5.00</span>
                                    <span className="text-2xl font-bold text-indigo-400">£{price.toFixed(2)}</span>
                                    <span className="text-xs text-slate-500">£50.00</span>
                                </div>
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div className="bg-slate-800/50 p-4 rounded-xl border border-slate-700 text-center">
                                    <div className="text-xs text-slate-400 uppercase tracking-wider">Est. Demand</div>
                                    <div className="text-2xl font-bold text-white mt-1">{currentDemand} <span className="text-sm text-slate-500">units</span></div>
                                </div>
                                <div className="bg-slate-800/50 p-4 rounded-xl border border-slate-700 text-center relative overflow-hidden">
                                    <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-green-400 to-emerald-500"></div>
                                    <div className="text-xs text-slate-400 uppercase tracking-wider">Proj. Revenue</div>
                                    <div className="text-2xl font-bold text-emerald-400 mt-1">£{currentRevenue}</div>
                                </div>
                            </div>
                        </div>

                        {/* Chart */}
                        <div className="lg:col-span-2 bg-slate-900/50 rounded-xl p-4 border border-slate-700 min-h-[300px]">
                             <h4 className="text-sm font-medium text-slate-400 mb-4 text-center">Revenue Optimization Curve</h4>
                             <ResponsiveContainer width="100%" height={300}>
                                <AreaChart data={data}>
                                    <defs>
                                        <linearGradient id="colorRevenue" x1="0" y1="0" x2="0" y2="1">
                                            <stop offset="5%" stopColor="#818cf8" stopOpacity={0.3}/>
                                            <stop offset="95%" stopColor="#818cf8" stopOpacity={0}/>
                                        </linearGradient>
                                    </defs>
                                    <CartesianGrid strokeDasharray="3 3" stroke="#334155" vertical={false} />
                                    <XAxis dataKey="price" stroke="#94a3b8" tickFormatter={(val) => `£${val}`} />
                                    <YAxis stroke="#94a3b8" />
                                    <Tooltip 
                                        contentStyle={{ backgroundColor: '#1e293b', borderColor: '#475569', color: '#f1f5f9' }}
                                        formatter={(value, name) => [name === 'revenue' ? `£${value.toFixed(0)}` : value, name === 'revenue' ? 'Revenue' : 'Demand']}
                                        labelFormatter={(label) => `Price: £${label}`}
                                    />
                                    <Area 
                                        type="monotone" 
                                        dataKey="revenue" 
                                        stroke="#818cf8" 
                                        strokeWidth={3}
                                        fillOpacity={1} 
                                        fill="url(#colorRevenue)" 
                                        animationDuration={500}
                                    />
                                </AreaChart>
                            </ResponsiveContainer>
                             <div className="text-center text-xs text-slate-500 mt-2">
                                The peak of the curve represents the optimal price point for maximum revenue.
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            return (
                <div className="min-h-screen bg-slate-900 selection:bg-indigo-500 selection:text-white">
                    <Navbar />
                    <Hero />

                    <main>
                        <Section id="overview" title="Problem Overview" icon="target">
                            <p className="text-xl font-light leading-relaxed text-slate-300 mb-6">
                                Retailers often struggle to find the "sweet spot" in pricing. Set the price too high, and volume drops; too low, and margin is sacrificed.
                            </p>
                            <div className="grid md:grid-cols-2 gap-8 mt-8">
                                <div className="bg-slate-800/50 p-6 rounded-lg border border-slate-700">
                                    <h3 className="text-lg font-semibold text-white mb-2">The Challenge</h3>
                                    <p className="text-slate-400">To analyze millions of transaction records and determine the elasticity of demand for over 3,000 unique products in a dynamic market environment.</p>
                                </div>
                                <div className="bg-slate-800/50 p-6 rounded-lg border border-slate-700">
                                    <h3 className="text-lg font-semibold text-white mb-2">The Solution</h3>
                                    <p className="text-slate-400">A Machine Learning pipeline using <span className="text-indigo-400">Random Forest Regressors</span> to predict sales volume based on price points and seasonality, enabling data-driven pricing strategies.</p>
                                </div>
                            </div>
                        </Section>

                        <Section id="architecture" title="Pipeline Architecture" icon="layers">
                            <p>
                                The solution is built on a scalable Batch Processing architecture. It ingests raw transactional data, performs cleaning and weekly aggregation, and feeds it into a Feature Store for model training.
                            </p>
                            <ArchitectureDiagram />
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4 text-center mt-8">
                                <div className="p-4 rounded bg-slate-800 border border-slate-700">
                                    <div className="text-2xl font-bold text-indigo-400">1.2M+</div>
                                    <div className="text-xs text-slate-500 uppercase mt-1">Transactions</div>
                                </div>
                                <div className="p-4 rounded bg-slate-800 border border-slate-700">
                                    <div className="text-2xl font-bold text-purple-400">~45MB</div>
                                    <div className="text-xs text-slate-500 uppercase mt-1">Data Volume</div>
                                </div>
                                <div className="p-4 rounded bg-slate-800 border border-slate-700">
                                    <div className="text-2xl font-bold text-pink-400">92%</div>
                                    <div className="text-xs text-slate-500 uppercase mt-1">Accuracy (R²)</div>
                                </div>
                                <div className="p-4 rounded bg-slate-800 border border-slate-700">
                                    <div className="text-2xl font-bold text-cyan-400">Weekly</div>
                                    <div className="text-xs text-slate-500 uppercase mt-1">Aggregation</div>
                                </div>
                            </div>
                        </Section>

                        <Section id="methodology" title="Methodology" icon="cpu">
                             <div className="space-y-8">
                                <div>
                                    <h3 className="text-xl font-semibold text-white mb-2">1. Data Sourcing</h3>
                                    <p>We utilized the <strong>Online Retail II</strong> dataset from the UCI Machine Learning Repository. This dataset contains actual transactions from a UK-based online retailer between 2009 and 2011.</p>
                                </div>
                                <div>
                                    <h3 className="text-xl font-semibold text-white mb-2">2. Feature Engineering</h3>
                                    <ul className="list-disc list-inside space-y-2 pl-4 border-l-2 border-slate-700">
                                        <li><strong>Seasonality:</strong> Extracted Week and Month indices to capture holiday trends.</li>
                                        <li><strong>Lagged Pricing:</strong> Created features to track price changes from previous weeks.</li>
                                        <li><strong>Clustering:</strong> Grouped products by sales velocity to handle the long-tail distribution.</li>
                                    </ul>
                                </div>
                                <div>
                                    <h3 className="text-xl font-semibold text-white mb-2">3. Model Selection</h3>
                                    <p>We selected the <strong>Random Forest Regressor</strong> over Linear Regression because demand curves are rarely linear. Random Forest handles the non-linear relationship between price and demand and is robust against the noise inherent in retail data.</p>
                                </div>
                            </div>
                        </Section>

                        <Section id="demo" title="Live Simulator" icon="activity">
                            <p className="mb-6">
                                This interactive module demonstrates the concept of the final deliverable. Adjust the price slider to see how the model predicts revenue changes based on price elasticity.
                            </p>
                            <InteractiveDemo />
                        </Section>
                    </main>

                    <footer className="py-12 bg-black text-center border-t border-slate-800">
                        <div className="flex justify-center space-x-6 mb-8 text-slate-400">
                            <Icon name="github" />
                            <Icon name="linkedin" />
                            <Icon name="mail" />
                        </div>
                        <p className="text-slate-500 text-sm">
                            Designed & Architected by [Your Name] <br/>
                            Oracle Big Data Case Study 2024
                        </p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
